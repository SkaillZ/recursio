[gd_scene load_steps=19 format=2]

[ext_resource path="res://Characters/Player.gd" type="Script" id=1]
[ext_resource path="res://Shared/Characters/PlayerBase.tscn" type="PackedScene" id=2]
[ext_resource path="res://addons/ascii-shader/character_map.png" type="Texture" id=3]
[ext_resource path="res://Resources/Icons/icon_player_minimap.png" type="Texture" id=4]
[ext_resource path="res://UI/HUD.tscn" type="PackedScene" id=5]
[ext_resource path="res://Util/LerpedFollow.tscn" type="PackedScene" id=6]
[ext_resource path="res://Rendering/VisibilityLight.tscn" type="PackedScene" id=7]
[ext_resource path="res://addons/ascii-shader/AsciiRenderer.tscn" type="PackedScene" id=8]
[ext_resource path="res://UI/ButtonOverlay.tscn" type="PackedScene" id=9]
[ext_resource path="res://Rendering/VisibilityEnvironment.tres" type="Environment" id=10]
[ext_resource path="res://Rendering/ViewEnvironment.tres" type="Environment" id=11]
[ext_resource path="res://Rendering/OverviewLight.gd" type="Script" id=12]
[ext_resource path="res://Util/ViewTarget.gd" type="Script" id=13]
[ext_resource path="res://addons/ascii-shader/ascii.shader" type="Shader" id=14]
[ext_resource path="res://Characters/PlayerInput.gd" type="Script" id=15]

[sub_resource type="PrismMesh" id=1]

[sub_resource type="QuadMesh" id=2]

[sub_resource type="ShaderMaterial" id=3]
shader = ExtResource( 14 )
shader_param/number_of_characters = 8.0
shader_param/character_size = Vector2( 4, 8 )
shader_param/character_map = ExtResource( 3 )

[node name="Player" type="Node"]
script = ExtResource( 1 )

[node name="PlayerBase" parent="." instance=ExtResource( 2 )]

[node name="PlayerInput" type="Node" parent="."]
script = ExtResource( 15 )

[node name="Mesh_Body" type="MeshInstance" parent="."]
transform = Transform( -0.75, -0.000108995, -0.00015581, 0.000116805, 0.000285584, -1, 0.000109051, -0.75, -0.00038075, 0, 0, 0 )
cast_shadow = 0
mesh = SubResource( 1 )
material/0 = null

[node name="HUD" parent="." instance=ExtResource( 5 )]

[node name="ButtonOverlay" parent="." instance=ExtResource( 9 )]
visible = false
margin_left = 363.57
margin_top = 527.664
margin_right = 363.57
margin_bottom = 527.664

[node name="VisibilityLight" parent="." instance=ExtResource( 7 )]

[node name="LightViewport" type="Viewport" parent="."]
size = Vector2( 2048, 2048 )
handle_input_locally = false
hdr = false
keep_3d_linear = true
render_target_update_mode = 3
shadow_atlas_size = 4096

[node name="LightCamera" type="Camera" parent="LightViewport"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 6, 0 )
cull_mask = 2
environment = ExtResource( 10 )
projection = 1
current = true
size = 70.0

[node name="TransformReset" type="Node" parent="."]

[node name="LerpedFollow" parent="TransformReset" instance=ExtResource( 6 )]
target_node = NodePath("../../ViewTarget")
lerp_factor = 0.05
lock_y_rotation = true

[node name="Camera" type="Camera" parent="TransformReset/LerpedFollow"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 12, 0 )
cull_mask = 1048565
environment = ExtResource( 11 )
current = true
fov = 90.0
__meta__ = {
"_editor_description_": ""
}

[node name="AsciiRenderer" parent="TransformReset/LerpedFollow/Camera" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 5.24537e-07, -12 )
mesh = SubResource( 2 )
material/0 = SubResource( 3 )

[node name="OverviewTarget" type="Position3D" parent="TransformReset"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 0 )

[node name="OverviewLight" type="OmniLight" parent="TransformReset"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 0 )
layers = 3
light_color = Color( 0.556863, 0, 0.690196, 1 )
light_energy = 50.0
omni_range = 0.0
omni_attenuation = 3.75716e-05
script = ExtResource( 12 )

[node name="Subtractive" type="OmniLight" parent="TransformReset/OverviewLight"]
layers = 3
light_color = Color( 0.556863, 0, 0.690196, 1 )
light_energy = 50.0
light_negative = true
omni_range = 0.0
omni_attenuation = 3.75716e-05

[node name="ViewTarget" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6 )
script = ExtResource( 13 )

[node name="MiniMapSprite" type="Sprite3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.07854, 0 )
layers = 8
axis = 1
texture = ExtResource( 4 )
